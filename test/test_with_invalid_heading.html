<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>QUnit leaflet-tracksymbol tests</title>
        <link rel="stylesheet" href="http://code.jquery.com/qunit/qunit-1.18.0.css">
    </head>
    <body>
        <div id="qunit"></div>
        <div id="qunit-fixture"></div>
	<div id="map"></div>
        <script src="http://code.jquery.com/qunit/qunit-1.18.0.js"></script>
        <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
        <script src="../lib/tracksymbol.js"></script>
        <script>
            /* global QUnit, L */

            QUnit.test("symbol with valid position, course and invalid speed", function (assert) {
                var position = L.latLng(0.0, 0.0);
                var map = L.map('map').setView(position, 10);
                var trackSymbol = L.trackSymbol(position, {
			course: 0.0,
			speed: 1.0,
			heading: undefined
		});
		trackSymbol.addTo(map);

                var result = trackSymbol.getPathString();
                var expected = 'M 199.2 19 L 192 11.8 L 184.8 19 L 192 26.2  ZM 192 19 L 192 19  Z';

                assert.equal(result, expected);
            });

        </script>
    </body>
</html>
